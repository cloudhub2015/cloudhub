<!-- REVISION HISTORY
 * Edit task from Masterlist page
 * @version 0.01
 * Version History
 * [09/13/2015] 0.01 - Jacquelyn Amaya - Update Task function
 * [09/26/2015] 0.02 - David Ramirez   - Added datepicker function
-->
<div class="container">
  <div class="row">
    <div class="col s12 m9 l10">
      <div id="right" class="section scrollspy">
        <h2 class="header"><img src="/images/edit.jpg" width="5%">&nbsp;&nbsp;Edit Task Information</h2>
        <p class="caption">Edit fields to edit task information.</p>
          <div class="row">
          <form class="col s12" name="createTask" novalidate ng-submit="sendPost()">
            <div class="row">
              <div class="input-field col s6">
                <input ng-model="taskName" name="name" id="taskName" type="text" class="validate" ng-minlength=3 ng-maxlength=50 required>
                <label class="active" for="task_name">Task Name</label>
                  <div class="error-container" ng-show="(createTask.name.$dirty && createTask.name.$invalid && createTask.submitted) || (createTask.name.$pristine && createTask.name.$invalid && createTask.submitted)">
                  	<small class="error" ng-show="createTask.name.$error.required" style="color: red;">Task Name is required.</small>
                  	<small class="error" ng-show="createTask.name.$error.minlength" style="color: red;">Task Name is required to be at least 3 characters.</small>
                  	<small class="error" ng-show="createTask.name.$error.maxlength" style="color: red;">Task Name cannot be longer than 50 characters.</small>
                  </div>
              </div>
            </div>

            <div class="row">
              <div class="col s6">
                <select class="browser-default" id="selectPhase" ng-model="taskPhase" required>
                  <option value="" disabled selected>Choose Phase</option>
                  <option value="Testing">Testing</option>
                  <option value="Coding">Coding</option>
                  <option value="Design">Design</option>
                </select>
                <div class="error-container" ng-show="(createTask.phase.$dirty && createTask.phase.$invalid && createTask.submitted) || (createTask.phase.$pristine && createTask.phase.$invalid && createTask.submitted)">
                  	<small class="error" ng-show="createTask.phase.$error.required" style="color: red;">Task Phase is required.</small>
                  </div>
              </div>
            </div>

            <div class="row">
              <div class="input-field col s6">
                <input name="estHours" type="number" min="1" id="txtEstHours" class="validate" placeHolder="number of hours" ng-model="taskEstHours" required integer />
                  <label class="active" for="txtEstHours" >Estimated Time Allotment</label>
                  <div class="error-container" ng-show="(createTask.estHours.$dirty && createTask.estHours.$invalid && createTask.submitted) || (createTask.estHours.$pristine && createTask.estHours.$invalid && createTask.submitted)">
                  	<small class="error" ng-show="createTask.estHours.$error.required" style="color: red;">Estimated Time allotment is required.</small>
                  	<small class="error" ng-show="createTask.estHours.$error.integer" style="color: red;">The value is invalid.</small>
                  </div>
              </div>
            </div>

            <a href="" ng-click="updateTask()" class="waves-effect waves-light btn"><i class="material-icon left">edit</i>Edit Task</a>
            &nbsp;&nbsp;&nbsp;
            <a href ="#/tasks" class="waves-effect waves-light btn"><i class="material-icon left">clear_all</i>Go Back to Masterlist</a>
            </form>
          </div>
        <br>
      </div>
    </div>
  </div>
</div>

<script>
$(function() {
    $( "#startDate" ).datepicker();
    $( "#dueDate" ).datepicker();
  });
</script>
