<!-- REVISION HISTORY
 * Masterlist page
 * @version 0.01
 * Version History
 * [09/08/2015] 0.01 - David Ramirez   		- Display tasks and completed tasks
 * [09/08/2015] 0.02 - Prince Niko Garces   - Search tasks and filter by phase
 * [09/13/2015] 0.03 - Jacquelyn Amaya 		- Replace Legends with tooltips for icons 
 											- Added "Add Task Today" anchor tag 
 											- Edit Task function
 											- Added "All" option for filter by phase
 											- Display Total Spent Time instead of Estimated Hours
-->
<div class="container">
  <div class="row">
    <div class="col s12 m9 l10">
      <div id="right" class="section scrollspy">
        <h2 class="header"><img src="/images/view.jpg" width="5%">&nbsp;&nbsp;List of Tasks</h2>
        <div class="row">
            <div class="input-field col s6">     
              <input id="search_bar" type="text" class="validate" data-ng-model="search.name">
              <label for="search_bar"><i class="material-icon-legend left">search</i>Search Task Name</label>
            </div>
            <div class="input-field col s6">
             	 <select class="browser-default" ng-model="searchByPhase">
                 	<option value="" disabled>Filter by Phase</option>
                    <option value="">All</option>
                    <option value="Testing">Testing</option>
                    <option value="Coding">Coding</option>
                    <option value="Design">Design</option>
                 </select>
            </div>   
        </div>
      <div class="table_wrapper table_even">
		  <table class="unfinished_tasks" id="tasks"> <!-- mod start 0.0.2 -->
          <thead>
            <tr>
                <th data-field="name"><center>Task Name</center></th>
                <th data-field="phase"><center>Phase</center></th>
                <th data-field="time_allotment"><center>Estimated Time Allotment</center></th>
                <th data-field="start_date"><center>Start Date</center></th>
                <th data-field="due_date"><center>Due Date</center></th>
				<th data-field="action"><center>Action</center></th>
            </tr>
          </thead>
          <tbody> 
			<tr data-ng-repeat="task in tasks | filter:searchByPhase | filter:search | orderBy:'name'"  ng-hide="{{task.finished}}">
				<input type="hidden" class="id" name="id" value="{{ task.id }}"/>
					<td  class="taskName"><center>{{ task.name }}</center></td>
					<td class="phase"><center>{{ task.phase }}</center></td>
					<td class="estHours"><center>{{ task.estHours | number : 2}} hrs</center></td>
					<td class="startDate"><center>{{ task.startDate }}</center></td>
					<td class="dueDate"><center>{{ task.dueDate }}</center></td>
					<td>
						<a href="" ng-click="addTaskToday(task.id)" title="Add to Today's Tasks"><i class="material-icon-action">add</i></a>
						<a href="" ng-click="finishTask(task.id)" title="Finish Task"><i class="material-icon-action">done</i></a>
						<a href="" ng-click="editTask(task)" title="Edit Task"><i class="material-icon-action">assignment</i></a>
						<a  href="" ng-click="deleteTask(task.id)" title="Delete Task"><i class="material-icon-action">delete</i></a>
					</td>
  			</tr>
		</tbody>
        </table>
        </div>
        <br>
        <h2 class="header" style="color: green;"><img src="/images/view.jpg" width="5%">&nbsp;&nbsp;Completed Tasks</h2>

          <table class="finished_tasks table_wrapper table_even" id="finished_tasks">
          <thead>
            <tr>
                <th data-field="status"><center>Task Name</center></th>
                <th data-field="name"><center>Phase</center></th>
                <th data-field="time_allotment"><center>Total Spent Time</center></th>
                <th data-field="start_date"><center>Start Date</center></th>
                <th data-field="due_date"><center>Date of Completion</center></th>
            </tr>
          </thead>
          <tbody>
          <tr ng-repeat="task in tasks"  ng-show="{{task.finished}}">
		        <td  class="taskName"> {{task.name}}</td>
		         <td><center> {{task.phase}} </center></td>
		         <td><center> {{task.spentHours | number:2}} hrs </center></td>
		         <td><center> {{task.startDate}}</center></td>
		         <td><center> {{task.dueDate}}</center></td>
		  </tr>
          </tbody>
          </table>
           
  </div>
</div>

